## 정규표현식

- Regex, Regexp라고 표현
- 특정 규칙을 가진 문자열을 찾을 때 사용



### 패턴구분자

- 정규식의 패턴이 달라질 경우 그것을 구분하는 문자
- 정규식 패턴이 하나만 있ㅇㄹ 경우에는 굳이 쓸 필요가 없지만 대부분 붙인다
  - 왜냐하면 이 패턴구분자는 특수문자 중 역슬래쉬(\)를 제외하고 아무거나 쓸 수 있기 때문
- 보통 슬래쉬(/)를 많이 사용하지만 규칙이 있는게 아니라 프로그래밍 하는 사람 마음대로다



### 메타 문자

- 정규표현식에서 일정한 의미를 가지고 쓰는 특수문자
- 여기서 쓰이는 글자가 포함된 패턴을 넣으려면 해당 글자 앞에 `\`를 넣어줘야 한다

> - `^` : 문자열의 시작
> - `$` : 문자열의 종료. 옵션에 따라 문장의 끝 또는 문서의 끝에 매칭
> - `.` : 임의의 한 문자
> - `[ ]` : 문자 클래스. 문자 클래스 안에 들어가있는 문자는 그 바깥에서 하나의 문자로 취급된다.
>   - `^` : 문자 클래스 내에서 ^는 not
>   - `-` : ex) a-z :는 a에서 z까지의 문자
> - `|` : or을 나타냄
> - `?` : 앞 문자가 없거나 하나 존재
> - `+` : 앞 문자가 하나 이상
> - `+` : 앞 문자가 0개 이상
> - `{n, m}` : 앞 문자가 n개 이상 m개 이하. {0, 1}은 `?`와 같은 의미
> - `{n, }` : 앞 문자가 n개 이상. 위의 형태에서 m이 생략된 형태. `{0, }` 은 `*`과 같고, `{1, }`이면 `+`와 같은 의미이다
> - `{n}` : 앞 문자가 정확히 n개. `{n, n}`과 같은 의미이다
> - `( )` : 하나의 패턴 구분자 안에 서브 패턴을 지정해서 사용할 경우 괄호로 묶어주는 방식을 사용
> - `\s` : 공백문자
> - `\b` : 문자와 공백의 사이
> - `\d` : 숫자. [0-9]와 같다
> - `\t` : 탭 문자
> - `\w` : 영문자+숫자+_(밑줄) [0-9a-zA-Z]
>   - 문자 이스케이프는 대문자로 적으면 반대를 의미한다
>   - `\W` : 영문자+숫자+_(밑줄) [0-9a-zA-Z]를 제외한 문자 (특수문자 )



### 패턴 변경자

- 패턴 구분자가 끝나면 그 뒤에 쓰는 것으로 패턴에 일괄적으로 변경을 가할 때 사용한다
- 정규식 엔진에 따라 변경자의 적용방식이 상이하므로 해당 구현의 메뉴얼을 읽어야 한다
  - 예) 대소문지 무시 플래그의 경우
    - 자바스크립트 : `/패턴/i`
    - 파이썬 : `re.compile(패턴, flags=re.I)`
    - Go : `(?i)패턴`

> `i` : 패턴을 대소문자 구분 없이 검사한다. 이 변경자를 사용할 경우 [a-z]로만 검색해도 자동을 [a-zA-Z]와 같은 기능을 하게 된다. 영어가 아닌 언어를 다룰 땐 버그 가능성이 있으므로 쓰지 않는게 좋다
>
> `s` : 임의의 한 문자를 가리키는 . 메타 문자에 개행 문자 (\n)도 포함시키도록 한다. 이 변경자를 사용하면 . 이 줄바꿈도 임의의 한 문자로 취급하여 찾는다
>
> `g` : ^문자가 문장이 아닌 문서의 처음에, $문자가 문장의 끝(라인 피드 \n)이 아닌 문자열의 끝에 매칭되게 변경한다.
>
> `m` : 주어진 문자열에 줄바꿈이 있을 경우, 여러 줄로 취급하여 검사한다 (줄바꿈이 없다면 써도 의미가 없다) 원래 정규표현식을 쓸 때 줄바꿈은 무시되는데, 이걸 사용하면 줄바꿈을 적용하여 검사한다. 그리고 ^는 한 줄의 시작, $는 한 줄의 끝으로 의미가 달라진다
>
> `x` : 공백 문자를 무시한다. 단 이스케이프(역슬래쉬와 같이 쓸 경우)하거나 문자 클래스 안에 있을 경우에는 예외. 정규식을 조금 더 읽기 편하게 만들어준다. 그러나 이 변경자를 지원하지 않는 엔진이 많은게 단점



### 예제

- `^[0-9]*$` : 숫자
- `^[a-zA-Z]*$` : 영문자. 패턴을 변경하여`/^[a-z]*$/i `로 사용 가능
- `^[가-힣]*$` : 현대 한글(유니코드를 지원하는 정규식 엔진에 한정)
- `^[ㄱ-ㅣ가-힣]*$` : 한글 자모 낱자를 포함한 모든 현대 한글
- `^[a-zA-Z0-9]*$` : 영문/숫자
-  `/(http|https|ftp|telnet|news|mms):\/\/[^\"'\s()]+/i` : URL 을 찾는 정규표현식


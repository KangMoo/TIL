## Netty

**정의**
- Netty는 비동기 이벤트 기반 네트워크 응용 프로그램 프레임워크다.
- 비동기 & block & non-bloc이 가능 & 

#### 네티?
> 프로토콜 서버 및 클라이언트와 같은 네트워크 어플리케이션을 빠르고 쉽게 개발하
> 는 것을 가능하게 해주는 NIO 클라이언트 프레임워크
> TCP, UDP 소켓 서버 개발과 같은 네트워크 프로그래밍을 매우 간단하고 능률적으로
> 만들어준다.


## Netty의 특징

#### 설계
- 단일 API로 블로킹과 논 블로킹 방식의 여러 전송 유형을 지원
- 단순하지만 강력한 스레딩 모델
- 진정한 비연결 데이터그램 소켓 지원
- 재사용 지원을 위한 논리 컴포넌트 연결

#### 성능
- 코어 자바 API보다 높은 처리량과 짧은 지연시간
- 폴링과 재사용을 통한 리소스 소비 감소
- 메모리 복사 최소화

#### 견고성
- 저속, 고속 도는 과부화 연결로 인한 OutOfMemoryError가 발생하지 않는다.
- 고속 네트워크 상의 NIO 어플리케이션에서 일반적인 읽기/쓰기 비율 불균형이 발생
하지 않는다.

#### 보안
- 완벽한 SSL/TLS 및 StartTLS 지원
- 애플릿이나 OSGI같은 제한된 환경에서도 이용가능

## Netty 핵심 컴포넌트
- Channel
- 콜백
- Future
- 이벤트와 핸들러

#### Channel
- 하나 이상의 입출력 작업(예: 읽기 또는 쓰기)을 수행할 수 있는 하드웨어 장치, 파
    일, 네트워크 소켓, 프로그램 컴포넌트와 같은 엔티티에 대한 열린 연결
- 자바 NIO의 기본 구조
- 열거다 닫고, 연결하거나 끊을 수 있음
- 들어오는(인바운드)데이터와 나가는(아웃바운드)데이터를 위한 운송수단이라고 생각

#### 콜백
- 다른 메서드로 자신에 대한 참조를 제공할 수 있는 메서드
- 다른 메서드는 이 참조가 가리키는 메서들을 필요할 때 호출할 수 있음
- 네티는 이벤트를 처리할 때 내부적으로 콜백을 이용

#### Future
- 작업이 완료되면 이를 어플리케이션에 알리는 한 방법
- 비동기 작업의 결과를 담는 자리표시자 역할을 하며, 미래의 어떤 시점에 작업이 완
    료되면 그 결과에 접근할 수 있게 해줌
- JDK는 `java.util.concurrent.Future`인터페이스를 제공하지만, 제공하는 구현에는
    수동으로 작업 완료 여부를 확인하거나 완료되기 전까지 블록킹하는 기능만 있기
    때문에 네티는 비동기 작업이 실행됐을 때이용할 수 있는 자체 구현
    `CannelFuture`를 제공
- CannelFuture에는 ChannelFutureListener 인스턴스를 하나 이상 등록할 수 있는 추
    가 메서드가 있으며 작업이 완려되면 리스너의 콜백 메서드인
    operationComplete()가 호출되고 리스너는 작업이 정상적으로 완료됐는지 아니면
    오류가 됐는지 확인 할 수 있음
  - 오류가 발생한 경우 생성된 Throwable을 가져올 수 있음. 즉
      CahnnelfutureListener가 제공하는 알림 메커니즘을 이용하면 작업 완료를 수동
      으로 검사할 필요가 없다.
- 네티의 모든 아웃바운드 입출력 작업은 Channelfuture를 반환하며 진행을 블록킹하
    는 작업은 없다

#### 이벤트와 핸들러
- 네티는 작업의 상태 변화를 알리기 위해 고유한 이벤트를 이용하며, 발생한 이벤트
    를 기준으로 적절한 동작을 트리거할 수 있음.
  - 다음과 같은 동작이 포함된다.
    > - 로깅
    > - 데이터 변환
    > - 흐름제어
    > - 어플리케이션 논리
- 인바운드 ㅅ데이터나 연관된 상태 변화로 트리거되는 이벤트는 다음과 같다
  > - 연결 활성화 또는 비활성화
  > - 데이터 읽기
  > - 사용자 이벤트
  > - 오류 이벤트
- 아웃바운드 이벤트는 다음과 같이 미래에 한 동작을 트리거하는 작업의 결과이다
  > - 원격 피어로 연결 열기 또는 닫기
  > - 소켓으로 데이터 쓰기 또는 플러시

# RxJava와 리액티브 프로그래밍

## RxJava란

- RxJava는 자바에서 **리액티브 프로그래밍**을 구현하는데 사용하는 라이브러리다
- 이벤트처리와 같은 비동기 처리에 최적화되었다
- 2.0버전부터 Reactive Stream 사양을 구현한다
  - Reactive Stream 사양 : 어떤 라이브러리나 프레임워크라도 데이터스트림을 비동기로 처리하는 공통 메커니즘을 인터페이스로 제공한다
  - RxJava 2.0버전부터는 Reactive Streams API를 의존하고 그 외에 다른 라이브러리는 의존하지 않는다
- RxJava는 엄밀히 말해 **함수형 리액티브 프로그래밍은 아니다**
  - 하지만 함수형 프로그래밍의 영향을 받아 함수형 인터페이스를 인자로 전달받는 메서드가 많다
  - 이러한 함수형 인터페이스를 사용하는 메서드들을 조합하면 함수형 프로그래밍을 하는 것처럼 데이터를 필터링하거나 변환하는 등의 처리를 유연하게 할 수 있다

> Simple RxJava Example
> ```java
> public static void main(String[] args){
>   // 데이터를 통지하는 생산자를 생성한다
>   Flowable<String> flowable = Flowable.just("Hello", "World"); // <- just 메서드 인자로 전달된 데이터를 통지하는 생산자 (Flowable)를 생성한다
>   // 통지받은 데이터를 출력한다
>   flowable.subscribe(data -> System.out.println(data)); // <- 생산자가 데이터를 통지하면 소비자가 받은 데이터를 출력한다
> }
> ```
> 
> 실행 결과
> ```
> Hello
> World
> ```

## 리액티브 프로그래밍이란

- 리액티브 프로그래밍 : 데이터가 통지될 때마다 관련 프로그램이 반응하여 데이터를 처리하는 프로그래밍 방식
- 리액티브 프로그래밍은 데이터 스트림으로 데이터를 전달받은 프로그램이 그때마다 적절히 처리할 수 있도록 구성되어있는 프로그래밍이다
  - 데이터 스트림 : 이미 생성된 집합인 리스트같은 컬렉션과는 다르게 앞으로 발생할 가능성이 있는 데이터까지도 포함하는 데이터 집합체
    - 이벤트도 발생할 때마다 데이터를 전송하는 데이터 스트림으로 다룰 수 있다
- 리액티브 프로그래밍에서 데이터를 생산하는 측은 데이터를 전달하는 것까지 책임지며, 데이터를 생산하는 측은 데이터를 소비하는 측이 전달받은 데이터로 무엇을 하는지는 몰라도 되며 데이터를 소비하는 측의 처리를 기다릴 필요가 없다
- 시스템 구축 관점에서 볼 때도 마이크로서비스와 같이 분산 시스템으로 프로그램을 구현하는데 적합하다

## RxJava의 개요

- .NET 프레임크의 실험적인 라이브러인 Reactive Extension(Rx)를 2009년 MS에서 공개하고, 2013년 넷플릭스에서 자바로 이식한 것이 RxJava의 시작
- Reactive Extensions를 다루는 라이브러리는 **ReactiveX**라는 오픈소스 프로젝트로 바뀌어 자바나 .NET뿐만 아니라 자바스크립트나 스위프트 등 여러 프로그래밍 언어를 지원하는 라이브러리를 제공한다
- RxJava1 때는 Reactive Extensions를 이식하는 개발이 진행되었고, 리액티브 프로그래밍 개념이 널리 알려지면서 Reactive Extensions와 별도로 여러 업체에서 데이터 스트림을 비동기로 다루는 라이브러리와 프레임워크를 출시했고, 라이브러리나 프레임워크 차이 때문에 서로 다르게 구현하는 문제가 발생했다. 그래서 관련 단체들이 데이터 스트림을 비동기로 다루는 최소한의 API를 정하고 제공했고, RxJava 2.0부터 이 API를 지원하게 되었다
- RxJava2.0은 1.x 버전보다 성능이 개선되었고, 배압 사양에 따라 사용하는 API가 변경됐다
  - 따라서 1.x버전에서 2.x버전으로 전환할 때는 단순하게 패키지나 클래스 이름을 바꾸는것 외에도 이러한 API 변경 사항도 바녕해야 한다
  - 2.x버전부터 Reactive Streams를 구현하므로 다른 라이브러리를 의존할 필요가 없던 1.x버전과는 다르게 Reactive Streams의 jar 반드시 필요하다


## RxJav의 특징

- RxJava는 디자인 패턴인 **옵저버 패턴**을 잘 확장했다
  - 옵저버 패턴은 감시 대상 객체의 상태가 변하면 이를 관찰하는 객체에 알려주는 구조다
  - 이 패턴의 특징을 살리면 데이터를 생성하는 측과 소비하는 측으로 나눌 수 있기 때문에 쉽게 데이터 스트림을 처리할 수 있다
  - RxJava는 옵저버 패턴에 완료와 에러를 통지할 수 있어서 모든 데이터 통지가 끝나거나 에러가 발생하는 시점에 별도로 대응할 수도 있다
- RxJava는 쉬운 비동기처리를 할 수 있다
  - Reactive Streams 규칙의 근간이 되는 **Observable 규약**이라는 RxJava 개발 가이드라인을 따른 구현이라면 직접 스레드를 관리하는 번거로움에서 해방될 뿐 아니라 구현도 간단하게 할 수 있다
- RxJava는 동기 처리나 비동기 처리나 구현 방법에 큰 차이가 없다
- RxJava는 함수형 프로그래밍의 영향을 받아 함수형 인터페이스를 인자로 전달하는 메서드를 사용해 대부분의 처리를 구현한다
  - 입력과 결과만 정해져 있다면 구체적인 처리는 개발자에게 맡길 수 있으므로 더욱 자유로운 구현이 가능함을 의미한다
  - 처리작업의 영향 범위를 좁힐 수 있고 동시에 복잡하지 않게 비동기 처리를 할 수 있다


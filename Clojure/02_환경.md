## 실행 방법

1. REPL (Read Eval Print Loop) 에서 실행

   - Clojure Command Line Tool을 설치후 `$ clj` 명령 실행

   - ```clojure
     user=> (println "Hello world")
     Hello world
     nil
     ```

2. 파일에 쓴 코드를 Command Line Tools로 실행

   - `.clj` 파일을 만들고 커맨드 라인으로 실행

   - ```clojure
     $ clj hello.clj
     Hello world
     ```

3. **Leiningen 프로젝트 관리툴로 실행**



## Leiningen이란

클로저 프로그램 개발을 위한 프로젝트 관리 도구

- 메이븐 저장소의 클로저/자바 라이브러리를 쉽게 이용할 수 있다
- 프로젝트 생성, 관리, 실행환경 설정 등에 들어가는 노력을 줄일 수 있다.
- 현재 대다수의 클로저 라이브러리와 클로저를 지원하는 웹 서비스 등이 Leiningen을 지원하므로 유리하다.
- 공부하는 입장에서 클로저에 형성된 생태계를 이해하는데 도움이 된다
- REPL 환경에서 개발할 때 편집기와 연동해 개발 환경을 구성할 수 있다

많은 라이브러리를 비롯하여 대부분의 클로저 프로젝트들이 Leiningen을 이용하고 있으므로 특별한 경우가 아니라면 Leiningen 이용은 선택이 아니라 필수라고 봐도 된다. 다만 클로저를 처음 배우는 사람에게는 개발 환경을 설정하는 것이 부담될 수 있으니 기본 문법 등을 익힌 후 라이브러리나 프로젝트 관리가 필요할 때 Leiningen을 이용해도 괜찮다.

### Leiningen 설치

- Leiningen을 사용하려면 인터넷 연결이 되어야 하고, JRE 1.6 이상을 지원하는 자바 가상 머신이 설치되어 있어야 한다.
- 공식사이트(https://leiningen.org/)에 설치 방법이 나와있다.
  - mac 사용자라면 `brew install leiningen` 으로 설치 가능하다

### 새 프로젝트 생성

- `lein new [프로젝트명]`

위의 명령으로 프로젝트 생성이 가능하다. Leiningen 프로젝트 디렉토리와 파일이 생성된다.

```
.
├── doc   .................... 사용설명서, API 문서 등
├── src   .................... 소스코드
│   └── my_project
│       └── core.clj
├── test   ................... 함수별 테스트
│    └── my_project
│        └── core_test.clj
├── resources
├── LICENSE   ................ 라이선스 안내 텍스트 파일
├── README.md   .............. GitHub용 마크다운 문서 파일
└── project.clj   ............ 프로젝트 설정 파일
```

이 외에도 빌드시 target등의 디렉토리가 추가로 생성된다. 디렉토리 구조는 마음대로 변경하면 안된다.프로젝트 생성 후 가장 꼼꼼이 살펴봐야 할 파일은 `project.clj`다. 확장자에서 알 수 있듯 프로젝트 설정 파일은 클로저 문법을 사용한다.

### 프로젝트 설정 / 사용할 라이브러리 추가

새 프로젝트 생성 후 `project.clj` 파일을 편집기로 열면, `project.clj` 파일 내부에는 다음과 같이 `defproject` 매크로를 호출하여 프로젝트를 정의하고 있다.

```
(defproject my-project "0.0.0"
  :description "프로젝트 설명"
  :license "Eclipse Public License 1.0"
  :url "http://..."
  :dependencies [[org.clojure/clojure "1.5.1"]]
  :plugins [[lein-ring "0.4.5"]])
```

`defproject` 매크로의 구성 요소들이 직관적이기 때문에 별다른 설명이 필요하진 않다. 라이브러리 로드 설정을 위한 `:dependencies`에 주목하자

Leiningen은 `project.clj`에 정의된 라이브러리 의존성을 확인해 메이븐 저장소에서 라이브러리를 가져온다. Leiningen이 자동으로 클로저와 라이브러리들을 다운로드하므로 별도로 시스템에 클로저를 설치할 필요는 없다.




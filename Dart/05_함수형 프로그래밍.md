## 함수형 프로그래밍

다트는 객체 지향 프로그래밍과 함수형 프로그래밍의 특징을 모두 제공한다. 함수형 프로그래밍은 자료 처리를 수학적 함수의 계산으로 취급하는 프로그래밍 패러다밍이다. 특히 다트의 컬렉션은 함수형 프로그래밍을 지원하는 다양한 함수를 제공한다.

## 일급 객체

다트에서는 함수를 값으로 취급할 수 있다. 그로므로 다른 변수에 함수를 대입할 수 있다.

```dart
void greeting(String text){
  print(text);
}

void main(){
  var f = greeting;
  f('hello');
}
```

다른 함수의 인자로 함수 자체를 전달하거나 함수를 반환받을 수도 있다.

```dart
void something(Function(int i ) f){
  f(10);
}

void main(){
  something((value){
    print(value);
  });
}
```

> 위 코드에서 `something()`함수는 인수로 `Function`이라는 특수한 클래스의 인스턴스를 받는다. `Function`은 다트에서 휴ㅏㅁ수를 매개변수로 전달하고자 할 때 사용하는 타입이다. `something()`함수는 내부에서 10이 매개변수로 전달된 `f()` 함수를 돌려준다. `f()`함수는 익명함수이다. 여기서는 `print`를 수행한다. 그 결과 이 코드는 10을 출력한다.

다트에서 함수를 표현할 수 있는 것들 (람다식, 익명 함수, 메서드)은 모두값으로 취급할 수 있다. 따라서 함수를 다른 함수에 전달하는 방법도 여러가지다.

```dart
void something(Function (int i) f){
  f(10);
}

void myPrintFunction(int i){
  print('내가 만든 함수에서 출력한 $i');
}

void main(){
  something(myPrintFunction); // 내가 만든 함수에서 출력한 10
  something((i) => myPrintFunction(i)); // 내가 만든 함수에서 출력한 10
  something((i) => print(i));  // 10
  something(print);  // 10
}
```



## for 문과 forEach() 함수

`for`문은 대표적인 반복문이다. `for`문은 외부 반복을 한다. `for`문으로 외부 반복하여 리스트 내용을 출력하면 다음과 같다.

```dart
void main(){
  final items = [1,2,3,4,5];
  
  for(var i = 0; i < items.length; i++){
    print(items[i]);  // 1 2 3 4 5
  }
}
```

반면 `forEach()`함수는 내부 반복을 수행한다. 외부에서 코드로 봤을 때는 반복문 형태를 띄지 않지만 내부적으로는 반복을 하고 있다.

`forEach()`함수는 `(E element) {}` 형태의 함수를 인수로 받는다. (E는 모든 타입이 가능하다는 것을 의미한다.) `print()` 함수도 `int`타입의 인수를 하나 받을 수 있다. 따라서 `for`문 예제외 같은 코드를 `print()`와 `forEach()`함수를 사용해 다음과 같이 구현할 수 있다.

```dart
void main(){
  final items = [1,2,3,4,5];
  items.forEach(print); // 1 2 3 4 5
}
```

이를 익명함수로 표현하면 다음과 같다

```dart
void main(){
  final items = [1,2,3,4,5];
  items.forEach((e){
    print(e);
  }); // 1 2 3 4 5
}
```

람다식으로 표현하면 다음과 같다.

```dart
void main(){
  final items = [1,2,3,4,5];
  items.forEach((e) => print(e)); // 1 2 3 4 5
}
```



## where

조건을 필터링 할 때 사용하는 함수이다. 예를들어 짝수만 출력하고 싶을 때 `for`문과 `if`문을 사용하는 코드는 다음과 같다.

```dart
void main(){
  final items = [1,2,3,4,5];
  
  for(var i = 0; i < items.length; i++){
    if(items[i] % 2 == 0){
      print(items[i]);  // 1 2 3 4 5  
    }
  }
}
```

`where()`함수를 사용하면 다음과 같이 작성할 수 있다.

```dart
void main(){
  final items = [1,2,3,4,5];
  
  items.where((e) => e % 2 == 0).forEach(print); // 2 4
}
```


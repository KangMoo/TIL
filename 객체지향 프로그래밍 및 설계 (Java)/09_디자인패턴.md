## 디자인 패턴

- 소프트웨어 설계에서 흔히 겪는 문제에 대한 해결책
- 범용적, 반복적
- 완성된 설계가 아님
  - 곧바로 코드로 바뀌지 않음
  - 어떤 문제를 다양한 환경에서 해결하는 법을 설명한 가이드일 뿐
- 흔히 GoF (Gang of Four)라고 불리는 저자들의 1994년 책에서 등장

#### 디자인 패턴의 장점

1. 이미 테스트를 마친 검증된 개발 방법을 통해 개발 속도를 향상
2. 공통 용어 정립을 통한 개발자들 간의 빠른 의사소통 촉진

#### 디자인 패턴의 단점

1. 고치려는 대상이 잘못됨
   - C++ 언어의 미지원 기능에 대한 미봉책이다
2. 곧바로 적용할 수 없고 참고 가이드를 '패턴'이라고 부를 수 없음
3. 잘못 적용하는 경우가 빈번함
4. 비효율적인 해법이 되는 경우가 많음
   - 디자인 패턴은 범용적, 추상적
   - 코드 중복이 많아지고 성능이 떨어질 수 있음
5. 다른 추상화 기법과 크게 다르지 않음

#### 디자인 패턴은 만능이 아니다

- 프로그래밍을 못하는 사람이 디자인 패턴을 익힌다고 더 잘하지 않음
  - 충분한 문제를 접하지 않음
  - 문제 해결하는 압버도 충분히 손에 안익음
  - 어디에 어떤 패턴을 사용할지 잘못 판단함

- 디자인 패턴은 모르는걸 가르쳐 주는게 아니라 정리 개념이다
  - 디자인 패턴을 미리 공부하면 문제를 보기 전에 해법부터 외우는 꼴
    - 개발 능력 향상에 도움이 되지 않음



## 싱글턴 패턴

- 어떤 클래스에서 만들 수 있는 인스턴스 수를 하나로 제한하는 패턴
- 다음과 같은 조건을 충족하는 개체에 적합
  - 프로그램 실행 중에 최대 하나만 있어야 함
    - 예) 프로그램 설정, 파일 시스템 등
  - 이 개체에 전역적으로 접근이 가능해야 함
- 딱 하나만 존재해야 하니 이름도 싱글턴

#### 싱글턴 패턴의 클래스 다이어그램

- private 생성자
- static 메서드를 통해서만 개채를 얻어올 수 있음
- 아직 개채가 없는 경우
  - 개채를 생성 후 static 변수에 저장
  - static 변수에 저장된 개채를 반환
- 이미 개채가 있는 경우
  - static 변수에 저장되어 있는 개채를 반환

![singleton](./images/05_2.png)



## 팩토리 메서드

- 객체 생성 클래스를 서브 클래스로 분리해서 처리하도록 캡슐화하는 패턴
  - 객체 생성 코드를 별도의 클래스/메서드로 분리함으로써 객체 생성의 변화에 대비하는데 유용하다
  - 특정 기능의 구현은 개별 클래스를 통해 제공되는 것이 바람직한 설계다
- 사용할 클래스를 정확히 몰라도 객체 생성을 가능하게 해주는 패턴
- 실제 사용하려는 클래스의 객체를 만들어서 반환해주는 메서드를 사용한다

![팩토리 메서드](./images/09_1.png)

#### 팩토리 메서드의 장점

- 클라이언트는 봉닝에게 익숙한 인자를 통해서 객체 생성 가능
- 생성자에서 오류 상황 감지 시 null 반환 가능
- 다형적으로 객체 생성 가능
  - 따라서 이 패턴을 가상 생성자 패턴이라고도 함
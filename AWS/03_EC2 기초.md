## EC2

- Elastic Compute Cloud
- AWS 에서 가장 인기있는 서비스 중 하나
- 주요 기능 구성
  - 가상 머신 대여 (EC2)
  - 가상 드라이브에 데이터 저장 (EBS)
  - 부하분산 (ELB)
  - auto-sclaing group을 이용한 크기조정 (ASG)
- EC2를 이해하는것은 클라우드가 작동방식을 이해하는 기초

### EC2 크기 조정 & 구성 옵션

- Operating System (OS) : 리눅스, 윈도우, Mac OS
- 컴퓨터 파워 및 코어 수 (CPU)
- Ram 크기
- 저장 공간
  - 네트워크 저장공간 (EBS & EFS)
  - 하드웨어 저장공간 (EC2 Instance Store)
- 네트워크 카드 : 속도 및 공개 IP
- 방화벽 규칙 : 보안 그룹
- 부트스트랩 스크립트 (첫 실행 시 구성) : EC2 User Data

### EC2 User Data

- EC2 User Data 스크립트를 사용하여 인스턴스를 부트스트랩할 수 있다
- 부트스트랩 : 가상머신 실행 시 수행되는 커맨드
- 스크립트는 **인스턴스 기동시 한번만 수행**된다
- EC2 유저 데이터는 다음과 같은 부팅 작업을 자동화한다.
  - 업데이트 설치
  - 소프트웨어 설치
  - 인터넷에서 공통 파일 다운로드
  - 그 외에 생각할 수 있는 모든 작업
- EC2 유저 데이터 스크립트는 root 유저로 실행된다.


### EC2 인스턴스 타입

- AWS는 다양한 EC2 인스턴스를 제공하므로, 사용 환경에 맞게 EC2 성능과 가격을 비교하여 골라 사용할 수 있다.
  - 범용
  - 컴퓨팅 최적화
  - 메모리 최적화
  - 가속화된 컴퓨팅
  - 스토리지 최적화
  - 인스턴스 기능
  - 인스턴스 성능 측정

> AWS 인스턴스 명명 규칙
> - m5.2xlarge
>   - m : 인스턴스 클래스
>   - 5 : 세대
>   - 2xlarge : 인스턴스 클래스 크기


#### EC2 인스턴스 타입 - 범용 (General Purpose)

- 웹 서버 및 코드 저장소와 같은 다양한 워크로드에 적합한 인스턴스 타입
- 균형잡힌 기능
  - 컴퓨팅
  - 메모리
  - 네트워크

#### EC2 인스턴스 타입 - 컴퓨팅 최적화

- 고성능 프로세서가 필요한 컴퓨팅 집약접 작업에 적합한 인스턴스 타입
  - 일괄 처리 워크로드
  - 미디어 트랜스코딩
  - 고성능 웹 서버
  - 고성능 컴퓨팅 (HPC)
  - 과학 모델링 & 머신 러닝
  - 데디케이트 게임 서버

#### EC2 인스턴스 타입 - 메모리 최적화

- 메모리에서 대용량 데이터 세트를 처리하는 워크로드를 위한 빠른 성능 작업에 적합한 인스턴스 타입
  - 고성능 관계형/비관계형 데이터베이스
  - 분산 웹 스케일 캐시 스토리지
  - 비즈니스 인텔리전스(BI)에 최적화된 메모리 데이터베이스
  - 대용량 비정형 데이터를 실시간으로 처리하는 어플리케이션

#### EC2 인스턴스 타입 - 스토리지 최적화

- 로컬 스토리지의 대용량 데이터에 대한 많은 읽기/쓰기 작업이 필요한 작업에 적합한 인스턴스 타입
  - 고빈도 온라인 거래처리 (Online transanctiop porcessing-OLTP) 시스템
  - 관계형 및 NoSQL 데이터베이스
  - 인-메모리 데이터베이스용 캐시 (ex. Redis)
  - 분산 파일 시스템

